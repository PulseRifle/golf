<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê³¨í”„ ì˜ˆì•½ ì‹œìŠ¤í…œ</title>
    <!-- Tailwind CSS: ìŠ¤íƒ€ì¼ë§ì„ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- PapaParse: CSV íŒŒì¼ ì²˜ë¦¬ë¥¼ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.0/papaparse.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .calendar-container { display: grid; grid-template-columns: repeat(2, 1fr); gap: 24px; }
        @media (max-width: 768px) { .calendar-container { grid-template-columns: 1fr; } }
        .day-cell { min-height: 50px; display: flex; flex-direction: column; justify-content: flex-start; align-items: center; cursor: pointer; }
        .booking-info { font-size: 10px; }
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); display: none; justify-content: center; align-items: center; z-index: 1000; }
        .modal-content { background-color: white; padding: 32px; border-radius: 16px; width: 90%; max-width: 480px; }
        #anonymousView table th, #anonymousView table td { text-align: center; border: 1px solid #e5e7eb; padding: 4px; font-size: 0.75rem; }
        #anonymousView table th { background-color: #f9fafb; }
        #lookupResults table th, #lookupResults table td { border: 1px solid #e2e8f0; padding: 8px; text-align: center; }
        #lookupResults table th { background-color: #f8fafc; }
    </style>
</head>
<body class="bg-gray-100 p-8 md:p-16">

    <!-- ë¡œê·¸ì¸ í™”ë©´ -->
    <div id="loginScreen" class="flex flex-col items-center justify-center min-h-screen">
        <div class="bg-white rounded-3xl shadow-lg p-8 w-full max-w-sm">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-6">ë¡œê·¸ì¸</h2>
            <form id="loginForm" class="space-y-4">
                <div>
                    <label for="loginUsername" class="block text-sm font-medium text-gray-700">ì•„ì´ë”” (ì´ë¦„)</label>
                    <input type="text" id="loginUsername" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500">
                </div>
                <div>
                    <label for="loginPassword" class="block text-sm font-medium text-gray-700">ë¹„ë°€ë²ˆí˜¸</label>
                    <input type="password" id="loginPassword" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500">
                </div>
                
                <div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <input id="rememberMe" name="remember-me" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded">
                        <label for="rememberMe" class="ml-2 block text-sm text-gray-900">ì•„ì´ë”” ì €ì¥</label>
                    </div>
                </div>

                <button type="submit" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-full shadow-lg">ë¡œê·¸ì¸</button>
            </form>
        </div>
    </div>

    <!-- ë©”ì¸ ì•± -->
    <div id="mainApp" class="hidden">
        <div class="bg-white rounded-3xl shadow-lg p-6 md:p-12 max-w-7xl mx-auto">
            <header class="flex flex-col md:flex-row justify-between items-center mb-8 gap-4">
                <div class="flex-grow">
                    <h1 class="text-3xl md:text-4xl font-extrabold text-gray-900">ê³¨í”„ ì˜ˆì•½ ì‹œìŠ¤í…œ</h1>
                    <a href="#" id="noticeLink" class="text-sm text-blue-600 hover:underline">ì´ìš© ë° ì·¨ì†Œ ì•ˆë‚´(2025.9ì›”)</a>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="openModalBtn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-full shadow-lg transform transition-transform active:scale-95">+ ì‹ ì²­</button>
                    <button id="logoutBtn" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-3 px-6 rounded-full shadow-lg">ë¡œê·¸ì•„ì›ƒ</button>
                </div>
            </header>
            <div class="mb-4 border-b border-gray-200">
                <nav class="flex space-x-4" aria-label="Tabs">
                    <button id="calendarTabBtn" class="px-3 py-2 font-medium text-sm rounded-md text-white bg-lime-500">ìº˜ë¦°ë”</button>
                    <button id="statusTabBtn" class="px-3 py-2 font-medium text-sm rounded-md text-gray-500 hover:text-gray-700">í˜„í™©</button>
                    <button id="lookupTabBtn" class="px-3 py-2 font-medium text-sm rounded-md text-gray-500 hover:text-gray-700 hidden">ì¡°íšŒ</button>
                    <button id="anonymousTabBtn" class="px-3 py-2 font-medium text-sm rounded-md text-gray-500 hover:text-gray-700 hidden">ë¬´ê¸°ëª…</button>
                </nav>
            </div>
            <div id="calendarView" class="tab-content">
                <div id="golfCourseFilterContainer" class="mb-4 p-4 bg-gray-50 rounded-lg border"></div>
                <div id="calendar" class="calendar-container"></div>
            </div>
            <div id="statusView" class="tab-content hidden">
                 <div class="flex flex-col md:flex-row justify-between items-center mb-4 gap-4">
                    <div id="statusFilterContainer" class="flex flex-wrap items-center gap-x-4 gap-y-2">
                    </div>
                    <div class="flex gap-2">
                        <div id="adminOnlyControls" class="flex gap-2 hidden">
                            <button id="downloadExcelBtn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-full">ì—‘ì…€ ë‹¤ìš´ë¡œë“œ</button>
                            <button id="uploadExcelBtn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-full">ì—‘ì…€ ì—…ë¡œë“œ</button>
                        </div>
                        <button id="cancelSelectedBtn" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-6 rounded-full hidden transform transition-transform active:scale-95">ì„ íƒ ì·¨ì†Œ</button>
                    </div>
                </div>
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white rounded-lg shadow-sm">
                        <thead id="statusTableHead" class="bg-gray-200 text-gray-600 uppercase text-sm leading-normal">
                            <tr>
                                <th class="py-3 px-6 text-left">ì„ íƒ</th>
                                <th class="py-3 px-6 text-left cursor-pointer" data-sort="Golf Course">Golf Course <span class="sort-indicator"></span></th>
                                <th class="py-3 px-6 text-left cursor-pointer" data-sort="Name">Name <span class="sort-indicator"></span></th>
                                <th class="py-3 px-6 text-left cursor-pointer" data-sort="Date">Date <span class="sort-indicator"></span></th>
                                <th class="py-3 px-6 text-left cursor-pointer" data-sort="Team">Team <span class="sort-indicator"></span></th>
                                <th class="py-3 px-6 text-left cursor-pointer" data-sort="Time">Time <span class="sort-indicator"></span></th>
                                <th class="py-3 px-6 text-left cursor-pointer" data-sort="Status">Status <span class="sort-indicator"></span></th>
                                <th class="py-3 px-6 text-left cursor-pointer" data-sort="Comment">Comment <span class="sort-indicator"></span></th>
                            </tr>
                        </thead>
                        <tbody id="statusTableBody" class="text-gray-600 text-sm font-light"></tbody>
                    </table>
                </div>
            </div>
            <div id="lookupView" class="tab-content hidden">
                <div class="bg-gray-50 p-4 rounded-lg border mb-4">
                    <div class="flex flex-col md:flex-row items-center gap-4">
                         <div class="flex items-center gap-2">
                             <label for="lookupName" class="text-sm font-medium text-gray-700">ì„±ëª…</label>
                             <input type="text" id="lookupName" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm">
                         </div>
                         <div class="flex items-center gap-2">
                            <label for="lookupDate" class="text-sm font-medium text-gray-700">ì¼ì</label>
                            <input type="date" id="lookupDate" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm">
                         </div>
                         <button id="lookupBtn" class="w-full md:w-auto bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-full self-end">ì¡°íšŒ</button>
                    </div>
                </div>
                <div id="lookupResults" class="mt-6 space-y-6"></div>
            </div>
            <div id="anonymousView" class="tab-content hidden">
                <div class="flex justify-end mb-4">
                    <select id="anonymousYearSelector" class="bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5">
                        <option value="2024">2024ë…„</option>
                        <option value="2025">2025ë…„</option>
                    </select>
                </div>
                <div id="anonymousTableContainer" class="overflow-x-auto"></div>
            </div>
        </div>
    </div>

    <!-- ì˜ˆì•½ ì‹ ì²­/ìˆ˜ì • ëª¨ë‹¬ -->
    <div id="bookingModal" class="modal-overlay">
        <div class="modal-content">
            <h2 id="modalTitle" class="text-2xl font-bold mb-6 text-gray-800">ì˜ˆì•½ ì‹ ì²­</h2>
            <form id="bookingForm" class="space-y-4">
                <input type="hidden" id="bookingId">
                <div><label for="userName" class="block text-sm font-medium text-gray-700">Name</label><input type="text" id="userName" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"></div>
                <div><label for="bookingDate" class="block text-sm font-medium text-gray-700">Date</label><input type="date" id="bookingDate" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"></div>
                <div><label for="golfCourse" class="block text-sm font-medium text-gray-700">Golf Course</label><select id="golfCourse" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md bg-white"></select></div>
                <div><label for="numberOfTeams" class="block text-sm font-medium text-gray-700">Team</label><input type="number" id="numberOfTeams" min="1" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"></div>
                <div><label for="bookingTime" class="block text-sm font-medium text-gray-700">Time</label><input type="time" id="bookingTime" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"></div>
                <div><label for="bookingStatus" class="block text-sm font-medium text-gray-700">Status</label><input type="text" id="bookingStatus" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"></div>
                <div><label for="notes" class="block text-sm font-medium text-gray-700">Comment</label><input type="text" id="notes" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"></div>
                <div class="flex justify-end space-x-4 pt-4">
                    <button type="button" id="closeModalBtn" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-full">ì·¨ì†Œ</button>
                    <button type="submit" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-full transform transition-transform active:scale-95">ì €ì¥</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- ê³µì§€ì‚¬í•­ ëª¨ë‹¬ -->
    <div id="noticeModal" class="modal-overlay">
        <div class="modal-content relative max-w-3xl max-h-[80vh] overflow-y-auto">
            <button id="closeNoticeBtn" class="absolute top-4 right-4 text-2xl text-gray-500 hover:text-gray-800">&times;</button>
            <h2 class="text-2xl font-bold mb-2 text-center text-gray-800">ê³¨í”„ì˜ˆì•½ì‹œìŠ¤í…œ ì•ˆë‚´</h2>
            <p class="text-sm text-center text-gray-500 mb-6">[2025.09ì›”, ì¸ì‚¬ì´ë¬´íŒ€]</p>
            <div class="prose max-w-none text-gray-700 space-y-4">
                <div>
                    <h3 class="text-lg font-bold">ì‹ ì²­ê°€ëŠ¥ ê³¨í”„íšŒì›ê¶Œ í˜„í™©</h3>
                    <div class="pl-4 mt-2 space-y-3">
                        <div>
                            <h4 class="font-semibold">1. ë¬´ê¸°ëª…íšŒì›ê¶Œ</h4>
                            <p class="text-sm">ì´ìš©ë°©ì‹ : ê° ë²•ì¸ ë°°ì • íšŸìˆ˜ ë‚´ ë¬´ê¸°ëª… ì‚¬ìš© (1íŒ€ íšŒì›ê°€ ì ìš©)</p>
                            <ul class="list-disc list-inside text-sm space-y-1 mt-1">
                                <li><strong>ğŸ“ ë ˆì´í¬ìš°ë“œCC</strong>
                                    <ul class="list-['-_'] list-inside ml-4">
                                        <li>ì›” ì´ìš©íšŸìˆ˜ : ì£¼ì¤‘ 9íšŒ, ì£¼ë§ 6íšŒ</li>
                                        <li>ë°°ì •ëŒ€ìƒ : ì£¼ì¤‘(êµ­ë‚´ì˜ì—…íŒ€ ë“± 9ê°œíŒ€), ì£¼ë§(êµ­ë‚´ì˜ì—…ë‹´ë‹¹ì„ì› ë“± 6ëª…)</li>
                                    </ul>
                                </li>
                                <li><strong>ğŸ“ ì„¸ë¼ì§€ì˜¤CC</strong>
                                    <ul class="list-['-_'] list-inside ml-4">
                                        <li>ì›” ì´ìš©íšŸìˆ˜ : ì£¼ì¤‘ 5íšŒ, ì£¼ë§ 3íšŒ</li>
                                        <li>ëŒ€ì²´ ì´ìš© : ìŠ¤ì¹´ì´ë°¸ë¦¬ 1íšŒ ëŒ€ì²´ ì‚¬ìš© ê°€ëŠ¥</li>
                                        <li>ë°°ì •í˜„í™© : ê¸°ëª…íšŒì›ê¶Œ ë¯¸ë³´ìœ  ì •íšŒì› ë“±(ì£¼ì¤‘ 3íšŒ, ì£¼ë§ 2íšŒ)</li>
                                        <li>ì‹ ì²­ ê°€ëŠ¥ ì”ì—¬ë¶„ : ì£¼ì¤‘ 2íšŒ, ì£¼ë§ 1íšŒ</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-semibold">2. ì„ ë¶ˆì œíšŒì›ê¶Œ</h4>
                            <ul class="list-disc list-inside text-sm space-y-1 mt-1">
                                <li><strong>ëŒ€ìƒ ê³¨í”„ì¥</strong> : ìŠ¤ì¹´ì´ë°¸ë¦¬CC, íë“œë¡œì‚¬ì´CC</li>
                                <li><strong>ë¹„ìš© êµ¬ì¡°</strong> : ì´ ë¹„ìš© 80ë§Œì›/íŒ€ (ì„ ë¶ˆê¸ˆì—ì„œ ì°¨ê°)</li>
                                <li><strong>ì§€ì› ë‚´ì—­</strong> : ì¸ì‚¬ì´ë¬´íŒ€ ì§€ì›(50ë§Œì›), ê°œì¸/ê³µí†µì ‘ëŒ€ë¹„(30ë§Œì›)</li>
                                <li><strong>ì ìš©ê°€ê²©</strong> : ì¼ë°˜ ì¸í„°ë„·íšŒì›ê°€ (íšŒì›íŠ¹ê°€ ì—†ìŒ)</li>
                                <li><strong>âš ï¸ ì£¼ì˜ì‚¬í•­</strong> : ë°˜ê¸°ë§(6ì›”/12ì›”) ì¸ì‚¬ì´ë¬´íŒ€ì—ì„œ ì ‘ëŒ€ë¹„ ì¼ê´„ ì°¨ê°. ì ‘ëŒ€ë¹„ ì‚¬ìš©ì‹œ ì°¨ê° ê¸ˆì•¡ì„ ë¯¸ë¦¬ ê³ ë ¤í•˜ì—¬ ì‚¬ìš© í•„ìš”</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-bold">ğŸ¯ ê³¨í”„ì¥ ì˜ˆì•½ë°©ë²•</h3>
                    <ul class="list-disc list-inside text-sm space-y-1 mt-2">
                        <li><strong>ë¬´ê¸°ëª…/ì„ ë¶ˆì œíšŒì›ê¶Œ</strong>: ê³¨í”„ ì˜ˆì•½ ì‹œìŠ¤í…œì„ í†µí•œ ì˜ˆì•½</li>
                        <li><strong>ì˜¤í”ˆ ìˆœì„œ</strong> : ì„ì› â†’ êµ­ë‚´ì˜ì—…íŒ€ 9ê°œíŒ€ â†’ êµ­ë‚´ì˜ì—… ì™¸ íŒ€ (ì˜¤í”ˆ ì£¼ê¸°: ë°˜ê¸°ì´ˆë§ˆë‹¤)</li>
                        <li><strong>ê¸°íƒ€ ì˜ˆì•½</strong> : ì›” íšŸìˆ˜ ë¯¸ë°°ì • ë˜ëŠ” ëŒ€ì¤‘ ì˜¤í”ˆ ì˜ˆì•½ì¼ ì´ìš© í¬ë§ì‹œ ë‹´ë‹¹ì(ì‹ ì„ì¤‘ ê³¼ì¥)ì—ê²Œ ì—°ë½</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold">âŒ ì˜ˆì•½ì·¨ì†Œ</h3>
                     <ul class="list-disc list-inside text-sm space-y-1 mt-2">
                        <li><strong>ì¼ë°˜ ì·¨ì†Œ</strong>: ì‹œìŠ¤í…œ ì·¨ì†ŒëŠ” í‹°ì˜¤í”„ì¼ 8ì¼ ì „ê¹Œì§€ ê°€ëŠ¥ (ê³¨í”„ì¥ë³„ ì·¨ì†Œê¸°ì¤€ ìƒì´)</li>
                        <li><strong>ìš°ì²œì·¨ì†Œ</strong>: ê³¨í”„ì¥ ê¸°ì¤€ì— ë”°ë¼ ê°€ëŠ¥, ë‹¹ì¼ ê³¨í”„ì¥ì— ì§ì ‘ ì—°ë½ í›„ ì·¨ì†Œ ì§„í–‰</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold">â° í‹°ì˜¤í”„ ë‹¹ì¼ ì•ˆë‚´</h3>
                    <ul class="list-disc list-inside text-sm space-y-1 mt-2">
                        <li><strong>ì²´í¬ì¸</strong>: í‹°ì˜¤í”„ ì‹œê°„ 30ë¶„ ì „ ì²´í¬ì¸ ì™„ë£Œ</li>
                        <li><strong>íŠ¹ì´ì‚¬í•­ í†µë³´</strong>: í‹°ì˜¤í”„ í›„ íŠ¹ì´ì‚¬í•­ ë°œìƒì‹œ ë‹¹ì¼ ë˜ëŠ” ìµì˜ì—…ì¼ì— ë‹´ë‹¹ì(ì‹ ì„ì¤‘ ê³¼ì¥)ì—ê²Œ ë©”ëª¨ ì „ë‹¬</li>
                        <li><strong>ìš°ì²œìœ¼ë¡œ ì¸í•œ ì·¨ì†Œ</strong>: í™€ì•„ì›ƒ ë“±ìœ¼ë¡œ ì¸í•œ ì°¨ê°ê¸ˆì•¡ ìƒì´ ë“±</li>
                    </ul>
                </div>
                 <div>
                    <h3 class="text-lg font-bold">ğŸ“ ë¬¸ì˜ì‚¬í•­</h3>
                     <p class="text-sm mt-2">ì‹ ì„ì¤‘ ê³¼ì¥ (ì¸ì‚¬ì´ë¬´íŒ€)</p>
                </div>
            </div>
        </div>
    </div>

    <div id="loadingOverlay" class="modal-overlay" style="display: none;">
        <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500"></div>
    </div>

    <script>
// ... (The JavaScript code remains the same as the previous correct version, so it's omitted here for brevity. The provided code above includes the corrected JavaScript.) ...
    </script>
</body>
</html>

