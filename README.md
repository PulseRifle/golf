# 골프 예약 시스템 ⛳

골프장 예약을 관리하는 웹 기반 시스템입니다.

## 📋 기능

### 사용자 기능
- 🔐 로그인/로그아웃
- 📅 12개월 캘린더 뷰
- ➕ 예약 신청/수정
- 📊 예약 현황 조회
- ❌ 예약 취소
- 🎯 월간 할당량 관리

### 관리자 전용 기능
- 📥 엑셀 다운로드/업로드
- 🔍 사용자별 예약 조회
- 📋 무기명 회원권 사용 현황
- 💰 접대비 차감 관리

## 🏌️ 지원 골프장

- 레이크우드 CC (주중/주말 구분)
- 스카이밸리 CC
- 세라지오 CC (주중/주말 구분)
- 힐드로사이 CC

## 🚀 설치 방법

### 1. Google Sheets 설정

#### Data 시트 (예약 데이터)
| 컬럼명 | 설명 |
|--------|------|
| id | 예약 ID (자동 생성) |
| Golf Course | 골프장 이름 |
| Name | 예약자 이름 |
| Date | 예약 날짜 (YYYY-MM-DD) |
| Team | 팀 수 |
| Time | 예약 시간 (HH:MM) |
| Status | 예약 상태 |
| Comment | 비고 |
| MP | 마일리지 포인트 (1=유효, 0=무효) |
| 접대비 | 접대비 금액 |
| 주말 | 주말 구분 ("주 말" 또는 빈값) |

#### Users 시트 (사용자 정보)
| 컬럼명 | 설명 |
|--------|------|
| name | 사용자 이름 |
| phone | 비밀번호 (전화번호) |

#### Quota 시트 (월간 할당량)
| 컬럼명 | 설명 |
|--------|------|
| Name | 사용자 이름 |
| Lakewood_Weekday | 레이크우드 주중 |
| Lakewood_Weekend | 레이크우드 주말 |
| SkyValley | 스카이밸리 |
| HillydeSicy | 힐드로사이 |
| Seragio_Weekday | 세라지오 주중 |
| Seragio_Weekend | 세라지오 주말 |

#### Log 시트 (활동 로그)
자동으로 생성됩니다.

#### 접대비 시트 (접대비 정보)
자동으로 생성됩니다.

### 2. Google Apps Script 설정

1. Google Sheets에서 `확장 프로그램` → `Apps Script` 클릭
2. `Code.gs` 파일 내용을 복사하여 붙여넣기
3. 저장 후 `배포` → `새 배포` 클릭
4. 유형: `웹 앱`
5. 액세스 권한: `전체 사용자`
6. 배포 후 웹 앱 URL 복사

### 3. 프론트엔드 설정

1. `index.html` 파일 열기
2. 298줄의 `SCRIPT_URL` 상수를 배포한 웹 앱 URL로 변경:
```javascript
const SCRIPT_URL = 'YOUR_WEB_APP_URL';
```
3. 웹 서버에 업로드 또는 로컬에서 실행

## 🔧 주요 로직

### 주중/주말 판단
- **기준**: Google Sheet의 `주말` 컬럼 값
- `"주 말"` → 주말
- 빈값 → 주중

### 유효한 예약 카운팅
- **조건**: `MP == 1` && `Status in ['예약완료', '예약중', '취소중']`

### 접대비 계산
- **데이터 출처**: Google Sheet의 `접대비` 컬럼 값
- **필터**: `MP == 1` && `Status in ['예약완료', '우천취소']`

## 🛠️ 기술 스택

- **프론트엔드**: HTML, JavaScript, Tailwind CSS
- **백엔드**: Google Apps Script
- **데이터베이스**: Google Sheets
- **라이브러리**: PapaParse (CSV 처리)

## 📝 업데이트 내역

### v1.2.0 (2025-10-30)
- 접대비 차감 탭 추가 (관리자 전용)
- 접대비 실제 금액 사용 (Sheet에서 가져오기)
- Google Apps Script에 saveEntertainment 액션 추가

### v1.1.0 (2025-10-30)
- 주중/주말 판단 로직 변경 (날짜 → '주말' 컬럼 기반)
- 유효한 예약 필터 조건 변경
- Google Apps Script 데이터 구조 확장 (11개 컬럼)

### v1.0.0
- 초기 버전

## 👤 관리자

관리자 계정: `신석중`

## 📄 라이선스

Private
